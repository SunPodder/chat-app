import{r as u,j as p}from"./index-BhQeG5K_.js";import{P as A}from"./index-BqoLo0Hk.js";function N(e,t=[]){let r=[];function o(n,c){const s=u.createContext(c),i=r.length;r=[...r,c];const d=f=>{var y;const{scope:l,children:x,...m}=f,g=((y=l==null?void 0:l[e])==null?void 0:y[i])||s,$=u.useMemo(()=>m,Object.values(m));return p.jsx(g.Provider,{value:$,children:x})};d.displayName=n+"Provider";function S(f,l){var g;const x=((g=l==null?void 0:l[e])==null?void 0:g[i])||s,m=u.useContext(x);if(m)return m;if(c!==void 0)return c;throw new Error(`\`${f}\` must be used within \`${n}\``)}return[d,S]}const a=()=>{const n=r.map(c=>u.createContext(c));return function(s){const i=(s==null?void 0:s[e])||n;return u.useMemo(()=>({[`__scope${e}`]:{...s,[e]:i}}),[s,i])}};return a.scopeName=e,[o,k(a,...t)]}function k(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(n){const c=o.reduce((s,{useScope:i,scopeName:d})=>{const f=i(n)[`__scope${d}`];return{...s,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function F(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...r)=>{var o;return(o=t.current)==null?void 0:o.call(t,...r)},[])}var h=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},C={exports:{}},_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v=u;function T(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var H=typeof Object.is=="function"?Object.is:T,V=v.useState,B=v.useEffect,D=v.useLayoutEffect,G=v.useDebugValue;function O(e,t){var r=t(),o=V({inst:{value:r,getSnapshot:t}}),a=o[0].inst,n=o[1];return D(function(){a.value=r,a.getSnapshot=t,E(a)&&n({inst:a})},[e,r,t]),B(function(){return E(a)&&n({inst:a}),e(function(){E(a)&&n({inst:a})})},[e]),G(r),r}function E(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!H(e,r)}catch{return!0}}function K(e,t){return t()}var U=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?K:O;_.useSyncExternalStore=v.useSyncExternalStore!==void 0?v.useSyncExternalStore:U;C.exports=_;var W=C.exports;function q(){return W.useSyncExternalStore(z,()=>!0,()=>!1)}function z(){return()=>{}}var L="Avatar",[J,ee]=N(L),[Q,I]=J(L),b=u.forwardRef((e,t)=>{const{__scopeAvatar:r,...o}=e,[a,n]=u.useState("idle");return p.jsx(Q,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:n,children:p.jsx(A.span,{...o,ref:t})})});b.displayName=L;var R="AvatarImage",j=u.forwardRef((e,t)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:a=()=>{},...n}=e,c=I(R,r),s=X(o,n),i=F(d=>{a(d),c.onImageLoadingStatusChange(d)});return h(()=>{s!=="idle"&&i(s)},[s,i]),s==="loaded"?p.jsx(A.img,{...n,ref:t,src:o}):null});j.displayName=R;var P="AvatarFallback",M=u.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:o,...a}=e,n=I(P,r),[c,s]=u.useState(o===void 0);return u.useEffect(()=>{if(o!==void 0){const i=window.setTimeout(()=>s(!0),o);return()=>window.clearTimeout(i)}},[o]),c&&n.imageLoadingStatus!=="loaded"?p.jsx(A.span,{...a,ref:t}):null});M.displayName=P;function w(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function X(e,{referrerPolicy:t,crossOrigin:r}){const o=q(),a=u.useRef(null),n=o?(a.current||(a.current=new window.Image),a.current):null,[c,s]=u.useState(()=>w(n,e));return h(()=>{s(w(n,e))},[n,e]),h(()=>{const i=f=>()=>{s(f)};if(!n)return;const d=i("loaded"),S=i("error");return n.addEventListener("load",d),n.addEventListener("error",S),t&&(n.referrerPolicy=t),typeof r=="string"&&(n.crossOrigin=r),()=>{n.removeEventListener("load",d),n.removeEventListener("error",S)}},[n,r,t]),c}var te=b,ne=j,re=M;export{b as A,re as F,ne as I,te as R,j as a,M as b,h as c,N as d,F as u};
